<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="payment">
<!--등록-->
    <select id="paymentSequence" resultType="int">
        select payment_seq.nextval from dual
    </select>
    <select id="paymentDetailSequence" resultType="int">
    select payment_detail_seq.nextvail from dual
    </select>

    <insert id="paymentInsert">
    insert into payment(
        payment_no, payment_tid, payment_name, 
        payment_total, payment_remain, user_id
    ) values(
        #{paymentNo}, #{paymentTid}, #{paymentName}, 
        #{paymentTotal}, #{paymentReamin}, #{userId}
    )
    </insert>

    <insert id="paymentDetailInsert">
    insert into payment_detail(
        payment_detail_no, payment_detail_name, payment_detail_price, 
        payment_detail_qty, payment_detail_item, payment_detail_origin, 
        payment_detail_status
    ) values(
        #{paymentDetailNo}, #{paymentDetailName}, #{paymentDetailPrice}, 
        #{paymentdetailQty}, #{paymentDetailItem}, #{paymentDetailOrigin},
        '승인'
    )
    </insert>
</mapper>